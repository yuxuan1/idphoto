## About idphoto

该项目是使用Qt和OpenCV开发的一个可以替换证件照底色的应用，同时有裁剪，缩放等基础功能。

裁剪功能提供三种裁剪模式：一寸模式(295px*413px)，二寸模式(413px*626px)和自由模式。

换底色支持将底色更改为红色(255, 0, 0)、蓝色(60, 160, 230)、白色(255, 255, 255)和自定义颜色。限于算法，目前仅能对背景纯净的证件照换底色，证件照来自于百度搜索。效果如下：

![截屏2021-06-19 下午9.06.22](/Users/jiangkexuan/Library/Application Support/typora-user-images/截屏2021-06-19 下午9.06.22.png)

![截屏2021-06-19 下午9.06.40](/Users/jiangkexuan/Library/Application Support/typora-user-images/截屏2021-06-19 下午9.06.40.png)

![截屏2021-06-19 下午9.06.55](/Users/jiangkexuan/Library/Application Support/typora-user-images/截屏2021-06-19 下午9.06.55.png)

## 局限

在换底色算法中，通过canny边缘检测识别边缘，保留一定程度上的头发细节，但是也会在轮廓的边缘留下一层背景的底色。所以如果头发平整的话可以选择‘不保留头发细节’选项，将人物轮廓向内腐蚀收缩一点，去除残余底色，这会同时腐蚀掉头发细节。而在头发丝比较杂乱，也希望保留头发细节的情况下，则不向内腐蚀。不过这个功能还没有做，待下一步更新。

也许人工智能算法可以达到更好的效果，但是我不会，只能用一些较传统的图像处理算法来做，效果不是特别好。
